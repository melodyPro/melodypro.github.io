$(function(){function o(){$("body").height()<=$(window).height()?$(".scroll-btn").hide():$(".scroll-btn").show()}function t(o){var t=$(window).width(),n=o.parent(),c=n.width(),l=o.offset().top;t<992?(o.css({transform:"scale("+c/600+")",transformOrigin:"0 0"}),n.css({height:l+c/3*2+"px"})):(o.removeAttr("style"),n.css({height:"auto"}))}$(".menu").click(function(){$(this).toggleClass("on"),$(".nav, .main").toggleClass("on")}),$(".nav-label").click(function(){$(".menu").trigger("click")}),o(),$(window).resize(function(){o()}),function(){var o=$("#tagCloud");o.length&&(t(o),$(window).resize(function(){t(o)}))}(),$(".main-archive-group").eq(1).addClass("scroll-down-to"),$(".scroll-btn:not(.back-to-top)").click(function(){var o=$(window).height(),t=$(".scroll-down-to").length>0?$(".scroll-down-to").offset().top:o;$("body").scrollTop()<o&&$("html, body").delay(200).animate({scrollTop:t},500,function(){$(".scroll-btn").fadeOut(250)})}),$(document).on("click",".scroll-btn.back-to-top",function(){$("html, body").delay(200).animate({scrollTop:0},500)}),$(window).scroll(function(){var o=$(".scroll-btn");$(window).scrollTop()>2*$(window).height()?o.fadeIn(500).addClass("back-to-top"):0===$(window).scrollTop()?o.fadeIn(500).removeClass("back-to-top"):o.fadeOut(500).removeClass("back-to-top")}),function(){$(".main-archive-list").each(function(){var o=$(this);o.css({height:o.css("height")})}),$(".main-archive-switch").click(function(){$(this).toggleClass("off").parents(".main-archive-group").toggleClass("off")})}(),void 0!==$.fn.smoove&&$(".main-post-list article").smoove({offset:"25%",moveY:"-50vh",scale:".5"}),$(".tag-cloud text").click(function(){var o=$(this).attr("data-target");$("html, body").delay(200).animate({scrollTop:$("#"+o).offset().top},500)}),void 0!==$.fn.niceScroll&&($("html").niceScroll({hwacceleration:!0,cursorcolor:"#2ec866",cursorwidth:"10px",cursorborder:"none",cursorborderradius:"0",zindex:"9",scrollspeed:80,mousescrollstep:60,smoothscroll:!0,bouncescroll:!0}),$("figure.highlight").niceScroll({hwacceleration:!0,cursorcolor:"#2ec866",cursorwidth:"5px",cursorborder:"none",cursorborderradius:"0 0 5px 5px",zindex:"9",scrollspeed:80,mousescrollstep:60,smoothscroll:!0,bouncescroll:!0})),function(){var o=$("#toc");if(o.length){$(window).scroll(function(){var t=$(window).scrollTop(),n=200-t;o.css({top:n>52?n+"px":"52px"})}),$(".post-toc-switch").click(function(){var o=$(this);o.hasClass("on")?$(".post-toc-box").fadeOut(300):$(".post-toc-box").fadeIn(300),o.toggleClass("on")});var t=[];$(".post-toc .toc-link").each(function(){var o=$(this),n=o.attr("href"),c=$(n).offset().top,l=0,i=o.parent().next().find(".toc-link:first");if(i.length){var s=i.attr("href");l=$(s).offset().top}else l=$("body").height();o.click(function(){return $("html, body").delay(200).animate({scrollTop:c-100},500),!1}),t[t.length]={id:n,min:c,max:l}}),t[0].min=0,$(window).scroll(function(){for(var n=$(window).scrollTop(),c=0;c<t.length;c++){var l=o.find('.toc-link[href="'+t[c].id+'"]').parent();n>=t[c].min-20&&n<t[c].max-20&&(l.children(".toc-child").slideDown(250),l.siblings().find(".toc-child").hide(),l.addClass("on").siblings().removeClass("on").find(".toc-item").removeClass("on"))}})}}()});